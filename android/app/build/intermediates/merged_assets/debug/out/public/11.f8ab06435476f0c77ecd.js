(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"k+ul":function(e,t,o){"use strict";o.r(t),o.d(t,"Tab3PageModule",function(){return v});var n=o("TEn/"),i=o("tyNb"),r=o("ofXK"),a=o("3Pt+"),s=o("mrSG"),c=o("hYQh");function b(e){this.message=e}(b.prototype=new Error).name="InvalidCharacterError";var l="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new b("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,n,i=0,r=0,a="";n=t.charAt(r++);~n&&(o=i%4?64*o+n:n,i++%4)?a+=String.fromCharCode(255&o>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return a};function d(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(l(e).replace(/(.)/g,function(e,t){var o=t.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}(t)}catch(e){return l(t)}}function h(e){this.message=e}(h.prototype=new Error).name="InvalidTokenError";var u=o("fXoL"),g=o("enGj");function m(e,t){if(1&e){const e=u.Nb();u.Mb(0,"ion-card"),u.Mb(1,"ion-card-header"),u.Mb(2,"ion-card-title"),u.hc(3,"Create Account"),u.Lb(),u.Lb(),u.Mb(4,"form",3),u.Mb(5,"ion-card-content"),u.Mb(6,"ion-item"),u.Mb(7,"ion-label",4),u.hc(8,"Name"),u.Lb(),u.Kb(9,"ion-input",5),u.Lb(),u.Mb(10,"ion-item"),u.Mb(11,"ion-label",4),u.hc(12,"Email"),u.Lb(),u.Kb(13,"ion-input",6),u.Lb(),u.Mb(14,"ion-item"),u.Mb(15,"ion-label",4),u.hc(16,"Password"),u.Lb(),u.Kb(17,"ion-input",7),u.Lb(),u.Mb(18,"ion-item"),u.Mb(19,"ion-label",4),u.hc(20,"Confirm password"),u.Lb(),u.Kb(21,"ion-input",8),u.Lb(),u.Mb(22,"ion-button",9),u.Ub("click",function(){return u.dc(e),u.Wb().RegisterUser()}),u.hc(23," Register "),u.Lb(),u.Mb(24,"ion-text"),u.hc(25,"Do you have an account? "),u.Mb(26,"a",10),u.Ub("click",function(){return u.dc(e),u.Wb().openModal()}),u.hc(27,"Login here"),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Lb()}if(2&e){const e=u.Wb();u.zb(4),u.bc("formGroup",e.RegistrationForm),u.zb(18),u.bc("disabled",e.RegistrationForm.invalid)}}function f(e,t){if(1&e){const e=u.Nb();u.Mb(0,"ion-card"),u.Mb(1,"ion-card-header"),u.Mb(2,"ion-card-title"),u.hc(3),u.Lb(),u.Lb(),u.Mb(4,"ion-item"),u.Mb(5,"ion-text",11),u.hc(6," 0 "),u.Lb(),u.Mb(7,"ion-label"),u.hc(8," Pending orders "),u.Lb(),u.Lb(),u.Mb(9,"ion-item"),u.Mb(10,"ion-text",11),u.hc(11," 0 "),u.Lb(),u.Mb(12,"ion-label"),u.hc(13," Cart items "),u.Lb(),u.Lb(),u.Mb(14,"ion-item"),u.Mb(15,"ion-text",11),u.hc(16," 0 "),u.Lb(),u.Mb(17,"ion-label"),u.hc(18," Completed orders "),u.Lb(),u.Lb(),u.Mb(19,"ion-item"),u.Mb(20,"ion-text",11),u.hc(21," 0 "),u.Lb(),u.Mb(22,"ion-label"),u.hc(23," Wish Items "),u.Lb(),u.Lb(),u.Mb(24,"ion-button",12),u.Ub("click",function(){return u.dc(e),u.Wb().LogoutUser()}),u.hc(25,"Logout"),u.Lb(),u.Lb()}if(2&e){const e=u.Wb();u.zb(3),u.jc("Welcome ",e.userEmail,",")}}let p=(()=>{class e{constructor(e,t,o,n,i){this.modalController=e,this.router=t,this._authService=o,this._formBuilder=n,this.loadingController=i,this.showRegistrationForm=!0}ngOnInit(){this.RegistrationForm=this._formBuilder.group({email:["",[a.j.required,a.j.email]],name:["",a.j.required],password:["",a.j.required],password2:["",a.j.required]}),this.isUserLoggedIn=this._authService.loggedIn(),this.isUserLoggedIn&&this.decodeJWT()}openModal(){return Object(s.a)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:c.a});return e.onDidDismiss().then(e=>{e.data&&(this.isUserLoggedIn=this._authService.loggedIn(),this.isUserLoggedIn&&this.decodeJWT())}),yield e.present()})}RegisterUser(){const e=this.RegistrationForm.value;this.handleLoadingEffect(),this._authService.UserRegistration(e).subscribe(e=>{this.openModal()})}GetUserProfile(){this._authService.userProfile().subscribe(e=>{console.log(e)})}LogoutUser(){this._authService.logoutUser(),this.isUserLoggedIn=this._authService.loggedIn()}decodeJWT(){const e=function(e,t){if("string"!=typeof e)throw new h("Invalid token specified");var o=!0===(t=t||{}).header?0:1;try{return JSON.parse(d(e.split(".")[o]))}catch(e){throw new h("Invalid token specified: "+e.message)}}(localStorage.getItem("access_token"));this.userEmail=e.email}handleLoadingEffect(){return Object(s.a)(this,void 0,void 0,function*(){const e=yield this.loadingController.create({message:"Please wait...",duration:2500});yield e.present()})}}return e.\u0275fac=function(t){return new(t||e)(u.Jb(n.F),u.Jb(i.g),u.Jb(g.a),u.Jb(a.a),u.Jb(n.E))},e.\u0275cmp=u.Db({type:e,selectors:[["app-tab3"]],decls:7,vars:4,consts:[[3,"translucent"],[3,"fullscreen"],[4,"ngIf"],[3,"formGroup"],["position","floating"],["formControlName","name"],["formControlName","email","type","email"],["formControlName","password","type","password"],["formControlName","password2","type","password"],["expand","block",1,"submit_button",3,"disabled","click"],[3,"click"],["slot","start"],["expand","block",1,"submit_button",3,"click"]],template:function(e,t){1&e&&(u.Mb(0,"ion-header",0),u.Mb(1,"ion-toolbar"),u.Mb(2,"ion-title"),u.hc(3," My Account "),u.Lb(),u.Lb(),u.Lb(),u.Mb(4,"ion-content",1),u.gc(5,m,28,2,"ion-card",2),u.gc(6,f,26,1,"ion-card",2),u.Lb()),2&e&&(u.bc("translucent",!0),u.zb(4),u.bc("fullscreen",!0),u.zb(1),u.bc("ngIf",!t.isUserLoggedIn),u.zb(1),u.bc("ngIf",t.isUserLoggedIn))},directives:[n.l,n.B,n.A,n.j,r.j,n.e,n.g,n.h,a.k,a.h,a.c,n.f,n.p,n.q,n.o,n.H,a.g,a.b,n.c,n.z],styles:[""]}),e})();var L=o("qtYk");const M=[{path:"",component:p},{path:"login-modal",loadChildren:()=>Promise.resolve().then(o.bind(null,"glnu")).then(e=>e.LoginModalPageModule)}];let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({imports:[[i.i.forChild(M)],i.i]}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({imports:[[n.C,r.b,a.d,a.i,L.a,i.i.forChild([{path:"",component:p}]),w]]}),e})()}}]);